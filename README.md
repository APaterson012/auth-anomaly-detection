# Authentication Behaviour Lab (Auth Anomaly Detection)

A self-hosted authentication telemetry + detection lab that simulates credential attacks and generates SOC-style alerts and reports. Built for portfolio demonstration and deployed on a NAS using Docker Compose.

## What it does

This lab provides:

- A **login page** that records authentication events (timestamp, IP, username, status).
- A **Replay Attack Simulation** button to generate realistic attack traffic with one click.
- A **rule-based detection engine** to flag patterns like brute force and credential stuffing.
- A **live alert counter UI** so you can see detections update in real time.
- **SOC-style outputs** in both Markdown and JSON for easy review and automation.

## Features

### 1) Replay Attack Simulation
Generates a realistic set of failed attempts and writes them to the auth log so the engine can detect and report.

### 2) Downloadable logs
- `GET /download/auth.log` → the live log generated by the lab
- `GET /download/sample.log` → static example dataset (stored in `example_logs/auth_example.log`)

### 3) Live alert counter
The UI polls the engine’s output and shows total alerts + breakdown by type.

### 4) Reporting
Generated files (bind-mounted to host via `runtime/`):

- `runtime/output/sample_output.json` - raw alerts
- `runtime/output/report.json` - structured summary
- `runtime/output/report.md` - human-readable report

## Architecture

[Browser]
|
v
[authlab-web] --writes--> runtime/data/auth.log
|
| (poll /api/alerts/count)
v
reads runtime/output/sample_output.json
|
v
[authlab-engine] --reads--> runtime/data/auth.log
--writes--> runtime/output/sample_output.json
--writes--> runtime/output/report.md
--writes--> runtime/output/report.json


Two containers are used intentionally:
- **web** handles UI + event generation
- **engine** handles detection + reporting

This mirrors real systems (app + worker/analytics pipeline).

## Quick start

### Requirements
- Docker + Docker Compose

### Run
```bash
docker compose up --build